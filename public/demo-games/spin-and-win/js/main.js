(function(){var a="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},b="undefined"!==typeof module&&module.exports,c="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,d=function(){for(var c,b=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),
"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],d=0,g=b.length,f={};d<g;d++)if((c=b[d])&&c[1]in a){for(d=0;d<c.length;d++)f[b[0][d]]=
c[d];return f}return!1}(),f={change:d.fullscreenchange,error:d.fullscreenerror},g={request:function(b){var e=d.requestFullscreen;b=b||a.documentElement;if(/5\.1[.\d]* Safari/.test(navigator.userAgent))b[e]();else b[e](c&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){a[d.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(c,b){var d=f[c];d&&a.addEventListener(d,b,!1)},off:function(c,
b){var d=f[c];d&&a.removeEventListener(d,b,!1)},raw:d};d?(Object.defineProperties(g,{isFullscreen:{get:function(){return!!a[d.fullscreenElement]}},element:{enumerable:!0,get:function(){return a[d.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!a[d.fullscreenEnabled]}}}),b?module.exports=g:window.screenfull=g):b?module.exports=!1:window.screenfull=!1})();var s_iScaleFactor=1,s_bIsIphone=!1,s_iOffsetX,s_iOffsetY;
(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4))})(navigator.userAgent||navigator.vendor||window.opera);$(window).resize(function(){sizeHandler()});function trace(a){console.log(a)}
function getSize(a){var b=a.toLowerCase(),c=window.document,d=c.documentElement;if(void 0===window["inner"+a])a=d["client"+a];else if(window["inner"+a]!=d["client"+a]){var f=c.createElement("body");f.id="vpw-test-b";f.style.cssText="overflow:scroll";var g=c.createElement("div");g.id="vpw-test-d";g.style.cssText="position:absolute;top:-1000px";g.innerHTML="<style>@media("+b+":"+d["client"+a]+"px){body#vpw-test-b div#vpw-test-d{"+b+":7px!important}}</style>";f.appendChild(g);d.insertBefore(f,c.head);
a=7==g["offset"+a]?d["client"+a]:window["inner"+a];d.removeChild(f)}else a=window["inner"+a];return a}window.addEventListener("orientationchange",onOrientationChange);function onOrientationChange(){window.matchMedia("(orientation: portrait)").matches&&sizeHandler();window.matchMedia("(orientation: landscape)").matches&&sizeHandler()}function getIOSWindowHeight(){return document.documentElement.clientWidth/window.innerWidth*window.innerHeight}
function getHeightOfIOSToolbars(){var a=(0===window.orientation?screen.height:screen.width)-getIOSWindowHeight();return 1<a?a:0}function isChrome(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function isIOS(){var a="iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";");for(-1!==navigator.userAgent.toLowerCase().indexOf("iphone")&&(s_bIsIphone=!0);a.length;)if(navigator.platform===a.pop())return!0;return s_bIsIphone=!1}
function sizeHandler(){window.scrollTo(0,1);if($("#canvas")){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?getIOSWindowHeight():getSize("Height");var b=getSize("Width");_checkOrientation(b,a);var c=Math.min(a/CANVAS_HEIGHT,b/CANVAS_WIDTH),d=CANVAS_WIDTH*c;c*=CANVAS_HEIGHT;if(c<a){var f=a-c;c+=f;d+=CANVAS_WIDTH/CANVAS_HEIGHT*f}else d<b&&(f=b-d,d+=f,c+=CANVAS_HEIGHT/CANVAS_WIDTH*f);f=a/2-c/2;var g=b/2-d/2,h=CANVAS_WIDTH/d;if(g*h<-EDGEBOARD_X||f*h<-EDGEBOARD_Y)c=Math.min(a/(CANVAS_HEIGHT-2*
EDGEBOARD_Y),b/(CANVAS_WIDTH-2*EDGEBOARD_X)),d=CANVAS_WIDTH*c,c*=CANVAS_HEIGHT,f=(a-c)/2,g=(b-d)/2,h=CANVAS_WIDTH/d;s_iOffsetX=-1*g*h;s_iOffsetY=-1*f*h;0<=f&&(s_iOffsetY=0);0<=g&&(s_iOffsetX=0);null!==s_oInterface&&s_oInterface.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oMenu&&s_oMenu.refreshButtonPos(s_iOffsetX,s_iOffsetY);s_bIsIphone?(canvas=document.getElementById("canvas"),s_oStage.canvas.width=2*d,s_oStage.canvas.height=2*c,canvas.style.width=d+"px",canvas.style.height=c+"px",s_iScaleFactor=
2*Math.min(d/CANVAS_WIDTH,c/CANVAS_HEIGHT),s_oStage.scaleX=s_oStage.scaleY=s_iScaleFactor):s_bMobile||isChrome()?($("#canvas").css("width",d+"px"),$("#canvas").css("height",c+"px")):(s_oStage.canvas.width=d,s_oStage.canvas.height=c,s_iScaleFactor=Math.min(d/CANVAS_WIDTH,c/CANVAS_HEIGHT),s_oStage.scaleX=s_oStage.scaleY=s_iScaleFactor);0>f?$("#canvas").css("top",f+"px"):$("#canvas").css("top","0px");$("#canvas").css("left",g+"px");fullscreenHandler()}}
function stopSound(a){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].stop()}function playSound(a,b,c){return!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(s_aSounds[a].play(),s_aSounds[a].volume(b),s_aSounds[a].loop(c),s_aSounds[a]):null}function setVolume(a,b){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].volume(b)}function setMute(a,b){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[b].mute(a)}
function _checkOrientation(a,b){s_bMobile&&ENABLE_CHECK_ORIENTATION&&(a>b?"landscape"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),s_oMain.stopUpdate()):"portrait"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),
s_oMain.stopUpdate()))}function createBitmap(a,b,c){var d=new createjs.Bitmap(a),f=new createjs.Shape;b&&c?f.graphics.beginFill("#fff").drawRect(0,0,b,c):f.graphics.beginFill("#ff0").drawRect(0,0,a.width,a.height);d.hitArea=f;return d}function createSprite(a,b,c,d,f,g){a=null!==b?new createjs.Sprite(a,b):new createjs.Sprite(a);b=new createjs.Shape;b.graphics.beginFill("#000000").drawRect(-c,-d,f,g);a.hitArea=b;return a}
function randomFloatBetween(a,b,c){"undefined"===typeof c&&(c=2);return parseFloat(Math.min(a+Math.random()*(b-a),b).toFixed(c))}function rotateVector2D(a,b){var c=b.getX()*Math.cos(a)+b.getY()*Math.sin(a),d=b.getX()*-Math.sin(a)+b.getY()*Math.cos(a);b.set(c,d)}function tweenVectorsOnX(a,b,c){return a+c*(b-a)}function shuffle(a){for(var b=a.length,c,d;0!==b;)d=Math.floor(Math.random()*b),--b,c=a[b],a[b]=a[d],a[d]=c;return a}
function bubbleSort(a){do{var b=!1;for(var c=0;c<a.length-1;c++)a[c]>a[c+1]&&(b=a[c],a[c]=a[c+1],a[c+1]=b,b=!0)}while(b)}function compare(a,b){return a.index>b.index?-1:a.index<b.index?1:0}function easeLinear(a,b,c,d){return c*a/d+b}function easeInQuad(a,b,c,d){return c*(a/=d)*a+b}function easeInSine(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b}function easeInCubic(a,b,c,d){return c*(a/=d)*a*a+b}
function getTrajectoryPoint(a,b){var c=new createjs.Point,d=(1-a)*(1-a),f=a*a;c.x=d*b.start.x+2*(1-a)*a*b.traj.x+f*b.end.x;c.y=d*b.start.y+2*(1-a)*a*b.traj.y+f*b.end.y;return c}function formatTime(a){a/=1E3;var b=Math.floor(a/60);a=parseFloat(a-60*b).toFixed(1);var c="";c=10>b?c+("0"+b+":"):c+(b+":");return 10>a?c+("0"+a):c+a}function degreesToRadians(a){return a*Math.PI/180}function checkRectCollision(a,b){var c=getBounds(a,.9);var d=getBounds(b,.98);return calculateIntersection(c,d)}
function calculateIntersection(a,b){var c,d,f,g;var h=a.x+(c=a.width/2);var e=a.y+(d=a.height/2);var n=b.x+(f=b.width/2);var m=b.y+(g=b.height/2);h=Math.abs(h-n)-(c+f);e=Math.abs(e-m)-(d+g);return 0>h&&0>e?(h=Math.min(Math.min(a.width,b.width),-h),e=Math.min(Math.min(a.height,b.height),-e),{x:Math.max(a.x,b.x),y:Math.max(a.y,b.y),width:h,height:e,rect1:a,rect2:b}):null}
function getBounds(a,b){var c={x:Infinity,y:Infinity,width:0,height:0};if(a instanceof createjs.Container){c.x2=-Infinity;c.y2=-Infinity;var d=a.children,f=d.length,g;for(g=0;g<f;g++){var h=getBounds(d[g],1);h.x<c.x&&(c.x=h.x);h.y<c.y&&(c.y=h.y);h.x+h.width>c.x2&&(c.x2=h.x+h.width);h.y+h.height>c.y2&&(c.y2=h.y+h.height)}Infinity==c.x&&(c.x=0);Infinity==c.y&&(c.y=0);Infinity==c.x2&&(c.x2=0);Infinity==c.y2&&(c.y2=0);c.width=c.x2-c.x;c.height=c.y2-c.y;delete c.x2;delete c.y2}else{if(a instanceof createjs.Bitmap){f=
a.sourceRect||a.image;g=f.width*b;var e=f.height*b}else if(a instanceof createjs.Sprite)if(a.spriteSheet._frames&&a.spriteSheet._frames[a.currentFrame]&&a.spriteSheet._frames[a.currentFrame].image){f=a.spriteSheet.getFrame(a.currentFrame);g=f.rect.width;e=f.rect.height;d=f.regX;var n=f.regY}else c.x=a.x||0,c.y=a.y||0;else c.x=a.x||0,c.y=a.y||0;d=d||0;g=g||0;n=n||0;e=e||0;c.regX=d;c.regY=n;f=a.localToGlobal(0-d,0-n);h=a.localToGlobal(g-d,e-n);g=a.localToGlobal(g-d,0-n);d=a.localToGlobal(0-d,e-n);c.x=
Math.min(Math.min(Math.min(f.x,h.x),g.x),d.x);c.y=Math.min(Math.min(Math.min(f.y,h.y),g.y),d.y);c.width=Math.max(Math.max(Math.max(f.x,h.x),g.x),d.x)-c.x;c.height=Math.max(Math.max(Math.max(f.y,h.y),g.y),d.y)-c.y}return c}function NoClickDelay(a){this.element=a;window.Touch&&this.element.addEventListener("touchstart",this,!1)}function shuffle(a){for(var b=a.length,c,d;0<b;)d=Math.floor(Math.random()*b),b--,c=a[b],a[b]=a[d],a[d]=c;return a}
NoClickDelay.prototype={handleEvent:function(a){switch(a.type){case "touchstart":this.onTouchStart(a);break;case "touchmove":this.onTouchMove(a);break;case "touchend":this.onTouchEnd(a)}},onTouchStart:function(a){a.preventDefault();this.moved=!1;this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1)},onTouchMove:function(a){this.moved=!0},onTouchEnd:function(a){this.element.removeEventListener("touchmove",this,!1);this.element.removeEventListener("touchend",
this,!1);if(!this.moved){a=document.elementFromPoint(a.changedTouches[0].clientX,a.changedTouches[0].clientY);3==a.nodeType&&(a=a.parentNode);var b=document.createEvent("MouseEvents");b.initEvent("click",!0,!0);a.dispatchEvent(b)}}};
(function(){function a(a){var c={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};a=a||window.event;a.type in c?document.body.className=c[a.type]:(document.body.className=this[b]?"hidden":"visible","hidden"===document.body.className?s_oMain.stopUpdate():s_oMain.startUpdate())}var b="hidden";b in document?document.addEventListener("visibilitychange",a):(b="mozHidden")in document?document.addEventListener("mozvisibilitychange",a):(b="webkitHidden")in
document?document.addEventListener("webkitvisibilitychange",a):(b="msHidden")in document?document.addEventListener("msvisibilitychange",a):"onfocusin"in document?document.onfocusin=document.onfocusout=a:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=a})();function ctlArcadeResume(){null!==s_oMain&&s_oMain.startUpdate()}function ctlArcadePause(){null!==s_oMain&&s_oMain.stopUpdate()}
function getParamValue(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a)return d[1]}}function fullscreenHandler(){ENABLE_FULLSCREEN&&screenfull.enabled&&(s_bFullscreen=screen.height<window.innerHeight+3&&screen.height>window.innerHeight-3?!0:!1,null!==s_oInterface&&s_oInterface.resetFullscreenBut(),null!==s_oMenu&&s_oMenu.resetFullscreenBut())}
if(screenfull.enabled)screenfull.on("change",function(){s_bFullscreen=screenfull.isFullscreen;null!==s_oInterface&&s_oInterface.resetFullscreenBut();null!==s_oMenu&&s_oMenu.resetFullscreenBut()});
function CSpriteLibrary(){var a,b,c,d,f,g;this.init=function(h,e,n){c=b=0;d=h;f=e;g=n;a={}};this.addSprite=function(c,d){a.hasOwnProperty(c)||(a[c]={szPath:d,oSprite:new Image},b++)};this.getSprite=function(c){return a.hasOwnProperty(c)?a[c].oSprite:null};this._onSpritesLoaded=function(){f.call(g)};this._onSpriteLoaded=function(){d.call(g);++c==b&&this._onSpritesLoaded()};this.loadSprites=function(){for(var c in a)a[c].oSprite.oSpriteLibrary=this,a[c].oSprite.onload=function(){this.oSpriteLibrary._onSpriteLoaded()},
a[c].oSprite.src=a[c].szPath};this.getNumSprites=function(){return b}}
var CANVAS_WIDTH=768,CANVAS_HEIGHT=1280,EDGEBOARD_X=40,EDGEBOARD_Y=160,FPS=30,FPS_TIME=1E3/FPS,DISABLE_SOUND_MOBILE=!1,STATE_LOADING=0,STATE_MENU=1,STATE_HELP=1,STATE_LOADING_WHEEL=2,STATE_GAME=3,PRIMARY_FONT="Arial",SECONDARY_FONT="impact",THIRD_FONT="comfortaa-bold",ON_MOUSE_DOWN=0,ON_MOUSE_UP=1,ON_MOUSE_OVER=2,ON_MOUSE_OUT=3,ON_DRAG_START=4,ON_DRAG_END=5,GAME_MODE_BET=0,GAME_MODE_INSTANT=1,WHEEL_IDLE=0,WHEEL_MOVEMENT=1,SPIN_MODE_NORMAL=0,SPIN_MODE_FREE=1,TIME_ANIM_IDLE=1E4,ANIM_IDLE1_TIMESPEED=
250,ANIM_IDLE2_TIMESPEED=50,ANIM_IDLE3_TIMESPEED=1E3,ANIM_SPIN_TIMESPEED=50,TIME_ANIM_WIN=5E3,ANIM_WIN1_TIMESPEED=50,ANIM_WIN2_TIMESPEED=100,TIME_ANIM_LOSE=5E3,STATE_IDLE=0,STATE_SPIN=1,STATE_WIN=2,STATE_LOSE=3,LED_SPIN=4,TIME_LOOP_WAIT=1E3,MIN_AI_THINKING=1E3,MAX_AI_THINKING=1500,MIN_FAKE_SPIN=3,WHEEL_SPIN_TIME,WHEEL_STRENGHT_ACTIVATION=10,PRECISION=1,NUM_SEGMENT_TO_RENDER=1230,LABEL_HEIGHT=40,START_CREDIT,START_BET,MAX_MULTIPLIER,MONEY_WHEEL_SETTINGS,AD_SHOW_COUNTER=[],BANK_CASH,WIN_OCCURRENCE,
ENABLE_CREDITS,ENABLE_FULLSCREEN,ENABLE_CHECK_ORIENTATION,NUM_MONEY_BACKGROUNDS,NUM_IMAGES_BACKGROUNDS,WHEEL_TEXT_PIXEL_MAX_SIZE=180,TEXT_PRELOADER_CONTINUE="START",TEXT_GAMEOVER="I'M SORRY, NO MORE CREDITS TO PLAY",TEXT_CREDITS="CREDITS",TEXT_SPIN="SPIN",TEXT_PLUS="+",TEXT_MIN="-",TEXT_CURRENCY="$",TEXT_WIN="WIN",TEXT_FREESPIN="FREE SPIN",TEXT_ARE_SURE="ARE YOU SURE?",TEXT_HELP1='CLICK ON "+" or "-" BUTTONS TO SELECT YOUR BET. PRIZE WILL VARY ACCORDING TO THE WAGER.',TEXT_HELP3="SPIN OR SWIPE ON THE WHEEL TO PLAY!",
TEXT_SHARE_IMAGE="200x200.jpg",TEXT_SHARE_TITLE="Congratulations!",TEXT_SHARE_MSG1="You collected <strong>",TEXT_SHARE_MSG2=" points</strong>!<br><br>Share your score with your friends!",TEXT_SHARE_SHARE1="My score is ",TEXT_SHARE_SHARE2=" points! Can you do better?";
function CPreloader(){var a,b,c,d,f,g,h,e,n,m;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("progress_bar","./sprites/progress_bar.png");s_oSpriteLibrary.addSprite("200x200","./sprites/200x200.jpg");s_oSpriteLibrary.addSprite("but_start","./sprites/but_start.png");s_oSpriteLibrary.loadSprites();m=new createjs.Container;s_oStage.addChild(m)};this.unload=function(){m.removeAllChildren();n.unload()};this._onImagesLoaded=function(){};
this._onAllImagesLoaded=function(){this.attachSprites();s_oMain.preloaderReady()};this.attachSprites=function(){var l=new createjs.Shape;l.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);m.addChild(l);l=s_oSpriteLibrary.getSprite("200x200");h=createBitmap(l);h.regX=.5*l.width;h.regY=.5*l.height;h.x=CANVAS_WIDTH/2;h.y=CANVAS_HEIGHT/2-180;m.addChild(h);e=new createjs.Shape;e.graphics.beginFill("rgba(0,0,0,0.01)").drawRoundRect(h.x-100,h.y-100,200,200,10);m.addChild(e);h.mask=e;
l=s_oSpriteLibrary.getSprite("progress_bar");d=createBitmap(l);d.x=CANVAS_WIDTH/2-l.width/2;d.y=CANVAS_HEIGHT/2+50;m.addChild(d);a=l.width;b=l.height;f=new createjs.Shape;f.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(d.x,d.y,1,b);m.addChild(f);d.mask=f;c=new createjs.Text("","30px "+PRIMARY_FONT,"#fff");c.x=CANVAS_WIDTH/2;c.y=CANVAS_HEIGHT/2+100;c.textBaseline="alphabetic";c.textAlign="center";m.addChild(c);l=s_oSpriteLibrary.getSprite("but_start");n=CTextButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/2,
l,TEXT_PRELOADER_CONTINUE,"Arial","#000",50,!0,m);n.addEventListener(ON_MOUSE_UP,this._onButStartRelease,this);n.setVisible(!1);n.removeShadow();n.setTextHeight(62);g=new createjs.Shape;g.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);m.addChild(g);createjs.Tween.get(g).to({alpha:0},500).call(function(){createjs.Tween.removeTweens(g);m.removeChild(g)})};this._onButStartRelease=function(){s_oMain._onRemovePreloader()};this.refreshLoader=function(g){c.text=g+"%";100===g&&(n.setVisible(!0),
c.visible=!1,d.visible=!1);f.graphics.clear();g=Math.floor(g*a/100);f.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(d.x,d.y,g,b)};this._init()}
function CMain(a){var b,c=0,d=0,f=STATE_LOADING,g,h;this.initContainer=function(){s_oCanvas=document.getElementById("canvas");s_oStage=new createjs.Stage(s_oCanvas);createjs.Touch.enable(s_oStage);s_bMobile=jQuery.browser.mobile;!1===s_bMobile&&(s_oStage.enableMouseOver(20),$("body").on("contextmenu","#canvas",function(a){return!1}));s_iPrevTime=(new Date).getTime();createjs.Ticker.addEventListener("tick",this._update);createjs.Ticker.framerate=FPS;navigator.userAgent.match(/Windows Phone/i)&&(DISABLE_SOUND_MOBILE=
!0);s_oSpriteLibrary=new CSpriteLibrary;g=new CPreloader};this.preloaderReady=function(){this._loadImages();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||this._initSounds();b=!0};this.soundLoaded=function(){c++;g.refreshLoader(Math.floor(c/d*100))};this._initSounds=function(){var a=[];a.push({path:"./sounds/",filename:"press_button",loop:!1,volume:1,ingamename:"click"});a.push({path:"./sounds/",filename:"game_over",loop:!1,volume:1,ingamename:"game_over"});a.push({path:"./sounds/",filename:"reel",loop:!0,
volume:1,ingamename:"reel"});a.push({path:"./sounds/",filename:"start_reel",loop:!1,volume:1,ingamename:"start_reel"});a.push({path:"./sounds/",filename:"win",loop:!1,volume:1,ingamename:"win"});d+=a.length;s_aSounds=[];for(var c=0;c<a.length;c++)s_aSounds[a[c].ingamename]=new Howl({src:[a[c].path+a[c].filename+".mp3",a[c].path+a[c].filename+".ogg"],autoplay:!1,preload:!0,loop:a[c].loop,volume:a[c].volume,onload:s_oMain.soundLoaded})};this._loadImages=function(){s_oSpriteLibrary.init(this._onImagesLoaded,
this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("but_play","./sprites/but_play.png");s_oSpriteLibrary.addSprite("msg_box","./sprites/msg_box.png");s_oSpriteLibrary.addSprite("bg_menu","./sprites/bg_menu.jpg");s_oSpriteLibrary.addSprite("bg_game","./sprites/bg_game.jpg");s_oSpriteLibrary.addSprite("ctl_logo","./sprites/ctl_logo.png");s_oSpriteLibrary.addSprite("credits_panel","./sprites/credits_panel.png");s_oSpriteLibrary.addSprite("swipe_hand","./sprites/swipe_hand.png");s_oSpriteLibrary.addSprite("logo_game",
"./sprites/logo_game.png");s_oSpriteLibrary.addSprite("gui_panel","./sprites/gui_panel.png");s_oSpriteLibrary.addSprite("but_credits","./sprites/but_credits.png");s_oSpriteLibrary.addSprite("but_fullscreen","./sprites/but_fullscreen.png");s_oSpriteLibrary.addSprite("but_exit","./sprites/but_exit.png");s_oSpriteLibrary.addSprite("audio_icon","./sprites/audio_icon.png");s_oSpriteLibrary.addSprite("but_yes","./sprites/but_yes.png");s_oSpriteLibrary.addSprite("but_no","./sprites/but_no.png");s_oSpriteLibrary.addSprite("but_spin",
"./sprites/but_spin.png");s_oSpriteLibrary.addSprite("but_plus","./sprites/but_plus.png");s_oSpriteLibrary.addSprite("bet_panel","./sprites/bet_panel.png");s_oSpriteLibrary.addSprite("credits_money_panel","./sprites/credits_money_panel.png");s_oSpriteLibrary.addSprite("win_panel","./sprites/win_panel.png");s_oSpriteLibrary.addSprite("leds","./sprites/leds.png");s_oSpriteLibrary.addSprite("but_long_text","./sprites/but_long_text.png");s_oSpriteLibrary.addSprite("arrow","./sprites/arrow.png");s_oSpriteLibrary.addSprite("wheel_shadow",
"./sprites/wheel_shadow.png");s_oSpriteLibrary.addSprite("wheel_back","./sprites/wheel_back.png");for(var a=0;a<NUM_MONEY_BACKGROUNDS;a++)s_oSpriteLibrary.addSprite("bg_"+a,"./sprites/money_prize_images/bg_"+a+".png");s_oSpriteLibrary.addSprite("borderframe","./sprites/borderframe.png");d+=s_oSpriteLibrary.getNumSprites();s_oSpriteLibrary.loadSprites()};this._onImagesLoaded=function(){c++;g.refreshLoader(Math.floor(c/d*100))};this._onRemovePreloader=function(){g.unload();this.gotoMenu();new CWheel};
this._onAllImagesLoaded=function(){};this.gotoModeMenu=function(){new CModeMenu;f=STATE_MENU};this.gotoMenu=function(){new CMenu;f=STATE_MENU};this.gotoLoadingWheel=function(){f=STATE_LOADING_WHEEL;s_oLoadingPanel=new CLoadingPanel};this.gotoGame=function(){f=STATE_GAME;h=new CGame(e);$(s_oMain).trigger("game_start")};this.gotoHelp=function(){new CHelp;f=STATE_HELP};this.stopUpdate=function(){b=!1;createjs.Ticker.paused=!0;$("#block_game").css("display","block");!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||
Howler.mute(!0)};this.startUpdate=function(){s_iPrevTime=(new Date).getTime();b=!0;createjs.Ticker.paused=!1;$("#block_game").css("display","none");(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)&&s_bAudioActive&&Howler.mute(!1)};this._update=function(a){if(!1!==b){var c=(new Date).getTime();s_iTimeElaps=c-s_iPrevTime;s_iCntTime+=s_iTimeElaps;s_iCntFps++;s_iPrevTime=c;1E3<=s_iCntTime&&(s_iCurFps=s_iCntFps,s_iCntTime-=1E3,s_iCntFps=0);switch(f){case STATE_GAME:h.update();break;case STATE_LOADING_WHEEL:s_oLoadingPanel&&
s_oLoadingPanel.update()}null===s_oWheel||s_oWheel.isLoaded()||s_oWheel.loading();s_oStage.update(a)}};s_oMain=this;var e=a;ENABLE_CREDITS=a.show_credits;ENABLE_CHECK_ORIENTATION=a.check_orientation;ENABLE_FULLSCREEN=a.fullscreen;MAX_MULTIPLIER=a.max_multiplier;MONEY_WHEEL_SETTINGS=a.money_wheel_settings;INSTANT_WHEEL_SETTINGS=a.instant_win_wheel_settings;NUM_MONEY_BACKGROUNDS=a.total_money_backgrounds_in_folder;NUM_IMAGES_BACKGROUNDS=a.total_images_backgrounds_in_folder;WHEEL_SPIN_TIME=a.wheel_spin_time;
this.initContainer()}var s_bMobile,s_bEasyMode,s_bAudioActive=!0,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_oDrawLayer,s_oStage,s_oMain,s_oSpriteLibrary,s_oCanvas,s_bFullscreen=!1,s_oLoadingPanel=null,s_aSounds;
function CTextButton(a,b,c,d,f,g,h,e,n){var m,l,p,k,q,t,r,w,y;this._init=function(a,c,b,d,g,f,e,h,n){m=!1;l=[];p=[];r=createBitmap(b);var w=Math.ceil(e/20);t=new createjs.Text(d,"bold "+e+"px "+g,"#000000");t.textAlign="center";t.textBaseline="alphabetic";var B=t.getBounds();t.x=b.width/2+w;t.y=Math.floor(b.height/2)+B.height/3+w-7;q=new createjs.Text(d,"bold "+e+"px "+g,f);q.textAlign="center";q.textBaseline="alphabetic";B=q.getBounds();q.x=b.width/2;q.y=Math.floor(b.height/2)+B.height/3-7;k=new createjs.Container;
k.x=a;k.y=c;k.regX=b.width/2;k.regY=b.height/2;k.cursor="pointer";h||(a=new createjs.SpriteSheet({images:[b],frames:{width:b.width/2,height:b.height,regX:b.width/2/2,regY:b.height/2},animations:{state_true:[0],state_false:[1]}}),r=createSprite(a,"state_false",b.width/2/2,b.height/2,b.width/2,b.height),t.x=w,t.y=w+17,q.x=0,q.y=17,k.regX=0,k.regY=0);k.addChild(r,t,q);n.addChild(k);this._initListener()};this.unload=function(){k.off("mousedown",w);k.off("pressup",y);n.removeChild(k)};this.setVisible=
function(a){k.visible=a};this.setClickable=function(a){m=!a;a||(k.cursor="arrow")};this._initListener=function(){oParent=this;w=k.on("mousedown",this.buttonDown);y=k.on("pressup",this.buttonRelease)};this.addEventListener=function(a,c,b){l[a]=c;p[a]=b};this.buttonRelease=function(){m||(k.scaleX=1,k.scaleY=1,l[ON_MOUSE_UP]&&l[ON_MOUSE_UP].call(p[ON_MOUSE_UP]))};this.buttonDown=function(){m||(k.scaleX=.9,k.scaleY=.9,playSound("click",1,!1),l[ON_MOUSE_DOWN]&&l[ON_MOUSE_DOWN].call(p[ON_MOUSE_DOWN]))};
this.enable=function(){m=!1;e||r.gotoAndStop("state_true")};this.disable=function(){m=!0;e||r.gotoAndStop("state_false")};this.removeShadow=function(){t.visible=!1};this.fadeOut=function(){this.setClickable(!1);createjs.Tween.get(k).to({alpha:0},500)};this.fadeIn=function(){this.setClickable(!0);createjs.Tween.get(k).to({alpha:1},500)};this.setTextPosition=function(a,c){var b=Math.ceil(h/20);t.x=a+b;t.y=c+b;q.x=a;q.y=c};this.setTextHeight=function(a){t.y=a+Math.ceil(h/20);q.y=a};this.setPosition=
function(a,c){k.x=a;k.y=c};this.setX=function(a){k.x=a};this.setY=function(a){k.y=a};this.getButtonImage=function(){return k};this.getX=function(){return k.x};this.getY=function(){return k.y};this._init(a,b,c,d,f,g,h,e,n);return this}
function CToggle(a,b,c,d){var f,g,h,e,n,m;this._init=function(a,c,b,d){g=[];h=[];var k=new createjs.SpriteSheet({images:[b],frames:{width:b.width/2,height:b.height,regX:b.width/2/2,regY:b.height/2},animations:{state_true:[0],state_false:[1]}});f=d;e=createSprite(k,"state_"+f,b.width/2/2,b.height/2,b.width/2,b.height);e.x=a;e.y=c;e.stop();e.cursor="pointer";s_oStage.addChild(e);this._initListener()};this.unload=function(){e.off("mousedown",n);e.off("pressup",m);s_oStage.removeChild(e)};this._initListener=
function(){n=e.on("mousedown",this.buttonDown);m=e.on("pressup",this.buttonRelease)};this.addEventListener=function(a,c,b){g[a]=c;h[a]=b};this.setActive=function(a){f=a;e.gotoAndStop("state_"+f)};this.buttonRelease=function(){e.scaleX=1;e.scaleY=1;f=!f;e.gotoAndStop("state_"+f);g[ON_MOUSE_UP]&&g[ON_MOUSE_UP].call(h[ON_MOUSE_UP],f)};this.buttonDown=function(){e.scaleX=.9;e.scaleY=.9;playSound("click",1,!1);g[ON_MOUSE_DOWN]&&g[ON_MOUSE_DOWN].call(h[ON_MOUSE_DOWN])};this.setPosition=function(a,c){e.x=
a;e.y=c};this._init(a,b,c,d)}
function CGfxButton(a,b,c,d){var f,g,h,e,n=[],m,l,p,k;this._init=function(a,c,b,d){f=!1;g=1;h=[];e=[];m=createBitmap(b);m.x=a;m.y=c;m.scaleX=m.scaleY=g;m.regX=b.width/2;m.regY=b.height/2;d.addChild(m);this._initListener()};this.unload=function(){s_bMobile?m.off("mousedown",l):(m.off("mousedown",l),m.off("mouseover",k));m.off("pressup",p);d.removeChild(m)};this.setVisible=function(a){m.visible=a};this.setClickable=function(a){f=!a};this._initListener=function(){s_bMobile?l=m.on("mousedown",this.buttonDown):
(l=m.on("mousedown",this.buttonDown),k=m.on("mouseover",this.buttonOver));p=m.on("pressup",this.buttonRelease)};this.addEventListener=function(a,c,b){h[a]=c;e[a]=b};this.addEventListenerWithParams=function(a,c,b,d){h[a]=c;e[a]=b;n=d};this.buttonRelease=function(){f||(m.scaleX=g,m.scaleY=g,h[ON_MOUSE_UP]&&h[ON_MOUSE_UP].call(e[ON_MOUSE_UP],n))};this.buttonDown=function(){f||(m.scaleX=.9*g,m.scaleY=.9*g,playSound("click",1,!1),h[ON_MOUSE_DOWN]&&h[ON_MOUSE_DOWN].call(e[ON_MOUSE_DOWN],n))};this.buttonOver=
function(a){s_bMobile||f||(a.target.cursor="pointer")};this.pulseAnimation=function(){createjs.Tween.get(m).to({scaleX:.9*g,scaleY:.9*g},850,createjs.Ease.quadOut).to({scaleX:g,scaleY:g},650,createjs.Ease.quadIn).call(function(){q.pulseAnimation()})};this.trembleAnimation=function(){createjs.Tween.get(m).to({rotation:5},75,createjs.Ease.quadOut).to({rotation:-5},140,createjs.Ease.quadIn).to({rotation:0},75,createjs.Ease.quadIn).wait(750).call(function(){q.trebleAnimation()})};this.setPosition=function(a,
c){m.x=a;m.y=c};this.setX=function(a){m.x=a};this.setY=function(a){m.y=a};this.getButtonImage=function(){return m};this.getX=function(){return m.x};this.getY=function(){return m.y};var q=this;this._init(a,b,c,d);return this}
function CMenu(){var a,b,c,d=null,f=null,g,h,e,n,m,l,p;this._init=function(){h=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));s_oStage.addChild(h);var k=s_oSpriteLibrary.getSprite("but_play");e=new CGfxButton(CANVAS_WIDTH/2,CANVAS_HEIGHT-300,k,s_oStage);e.addEventListener(ON_MOUSE_UP,this._onButPlayRelease,this);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)k=s_oSpriteLibrary.getSprite("audio_icon"),a=CANVAS_WIDTH-k.width/4-10,b=k.height/2+14,l=new CToggle(a,b,k,s_bAudioActive),l.addEventListener(ON_MOUSE_UP,
this._onAudioToggle,this);k=s_oSpriteLibrary.getSprite("but_credits");var q={x:k.width/2+10,y:k.height/2+14},t={x:q.x+k.width+10,y:k.height/2+14};ENABLE_CREDITS&&(p=q,n=new CGfxButton(p.x,p.y,k,s_oStage),n.addEventListener(ON_MOUSE_UP,this._onButCreditsRelease,this));k=window.document;var r=k.documentElement;d=r.requestFullscreen||r.mozRequestFullScreen||r.webkitRequestFullScreen||r.msRequestFullscreen;f=k.exitFullscreen||k.mozCancelFullScreen||k.webkitExitFullscreen||k.msExitFullscreen;!1===ENABLE_FULLSCREEN&&
(d=!1);d&&screenfull.enabled&&(k=s_oSpriteLibrary.getSprite("but_fullscreen"),c=ENABLE_CREDITS?t:q,g=new CToggle(c.x,c.y,k,s_bFullscreen,!0),g.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));m=new createjs.Shape;m.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(m);createjs.Tween.get(m).to({alpha:0},1E3).call(function(){m.visible=!1});this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.unload=function(){e.unload();e=null;ENABLE_CREDITS&&n.unload();
if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)l.unload(),l=null;d&&screenfull.enabled&&g.unload();s_oStage.removeChild(h);s_oMenu=h=null};this.refreshButtonPos=function(e,f){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||l.setPosition(a-e,f+b);d&&screenfull.enabled&&g.setPosition(c.x+e,c.y+f);ENABLE_CREDITS&&n.setPosition(p.x+e,p.y+f)};this._onButCreditsRelease=function(){new CCreditsPanel};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this.resetFullscreenBut=
function(){d&&screenfull.enabled&&g.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?f.call(window.document):d.call(window.document.documentElement);sizeHandler()};this._onButPlayRelease=function(){this.unload();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||createjs.Sound.play("click");$(s_oMain).trigger("start_session");s_oWheel.isLoaded()?s_oMain.gotoGame():s_oMain.gotoLoadingWheel()};s_oMenu=this;this._init()}var s_oMenu=null;
function CGame(a){var b,c,d,f,g,h,e,n,m,l,p,k,q,t,r,w=null,y,B,z;this._init=function(){n=1;d=c=0;m=START_BET.toFixed(2)/1;l=START_CREDIT.toFixed(2)/1;p=-1;g=STATE_IDLE;h=SPIN_MODE_NORMAL;k=0;q=BANK_CASH;e=0;var a=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));s_oStage.addChild(a);t=[];b=!0;y=new createjs.Container;y.scaleX=y.scaleY=1.2;s_oStage.addChild(y);this.attachWheel();r=new CInterface;new CHelpPanel;this._initProbability();l<START_BET&&this.gameOver()};this.attachWheel=function(){var a=
CANVAS_HEIGHT/2-105;s_oWheel.attachWheel(200,a,y);z=new CLeds(200,a,y);f=z.getState();B=s_oWheel};this._initProbability=function(){for(var a=[],c=0;c<MONEY_WHEEL_SETTINGS.length;c++)a[c]=MONEY_WHEEL_SETTINGS[c].win_occurrence;for(c=0;c<a.length;c++)for(var b=0;b<a[c];b++)t.push(c)};this.modifyBonus=function(a){"plus"===a?n++:n--;n>MAX_MULTIPLIER?n=MAX_MULTIPLIER:1>n?n=1:n>l/START_BET&&(n=Math.floor(l/START_BET));m=(START_BET*n).toFixed(2)/1;r.refreshBet(m);B.setText(n)};this.tryShowAd=function(){k++;
k===AD_SHOW_COUNTER&&(k=0,$(s_oMain).trigger("show_interlevel_ad"))};this._getBetPrize=function(){for(var a,c=[],b=0;b<t.length;b++)a=MONEY_WHEEL_SETTINGS[t[b]].prize*n,(a<=q||"freespin"===MONEY_WHEEL_SETTINGS[t[b]].type)&&c.push({prize:a,index:b});return t[c[Math.floor(Math.random()*c.length)].index]};this.spinWheel=function(){r.disableSpin(!0);g=STATE_SPIN;d=0;B.setText(n);this.setNewRound();h===SPIN_MODE_FREE?(e--,r.enterInFreeSpinMode(e)):(r.refreshMoney(0),l-=m,q+=m,r.refreshCredit(l.toFixed(2)/
1));p=this._getBetPrize();playSound("start_reel",1,!1);playSound("reel",.2,!0);B.spin(p)};this.setNewRound=function(){0>p||(r.refreshCredit(l.toFixed(2)/1),r.clearMoneyPanel(),p=-1)};this.releaseWheel=function(){this.tryShowAd();r.disableSpin(!1);stopSound("reel");MONEY_WHEEL_SETTINGS[p].prize>m||"freespin"===MONEY_WHEEL_SETTINGS[p].type?(g=STATE_WIN,playSound("win",1,!1)):(g=STATE_LOSE,playSound("game_over",1,!1));"prize"===MONEY_WHEEL_SETTINGS[p].type&&s_oGame.setWinPrize();this.checkSpinMode();
h===SPIN_MODE_NORMAL?(l<START_BET&&this.gameOver(),n>l/START_BET&&(n=Math.floor(l/START_BET),m=(n*START_BET).toFixed(2)/1,r.refreshBet(m))):this.spinWheel()};this.setWinPrize=function(){r.refreshMoney(MONEY_WHEEL_SETTINGS[p].prize*n);l+=MONEY_WHEEL_SETTINGS[p].prize*n;q-=MONEY_WHEEL_SETTINGS[p].prize*n;$(s_oMain).trigger("save_score",[l]);r.refreshCredit(l.toFixed(2)/1);r.animWin()};this.checkSpinMode=function(){"freespin"===MONEY_WHEEL_SETTINGS[p].type?(e+=MONEY_WHEEL_SETTINGS[p].prize,r.enterInFreeSpinMode(e),
h===SPIN_MODE_NORMAL&&(h=SPIN_MODE_FREE)):h===SPIN_MODE_FREE&&0===e&&(h=SPIN_MODE_NORMAL,n>l/START_BET&&(n=Math.floor(l/START_BET),m=(n*START_BET).toFixed(2)/1,r.refreshBet(m)),r.exitFromFreeSpinMode(m))};this.unload=function(){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||createjs.Sound.stop();b=!1;r.unload();null!==w&&w.unload();s_oWheel.unload();createjs.Tween.removeAllTweens();s_oStage.removeAllChildren()};this.onExit=function(){stopSound("reel");$(s_oMain).trigger("save_score",[l]);$(s_oMain).trigger("share_event",
l);$(s_oMain).trigger("end_session");this.unload();s_oMain.gotoMenu()};this.gameOver=function(){w=CEndPanel(s_oSpriteLibrary.getSprite("msg_box"));w.show()};this._animLedIdle=function(){c+=s_iTimeElaps;if(c>TIME_ANIM_IDLE){c=0;for(var a=Math.floor(Math.random()*z.getNumAnim());a===f;)a=Math.floor(Math.random()*z.getNumAnim());z.changeAnim(a);f=a}};this._animLedSpin=function(){z.changeAnim(LED_SPIN);g=-1};this._animLedWin=function(){0===d?z.changeAnim(LED_SPIN+1+Math.round(Math.random())):d>TIME_ANIM_WIN&&
(c=TIME_ANIM_IDLE,g=STATE_IDLE,d=0);d+=s_iTimeElaps};this._animLedLose=function(){0===d?z.changeAnim(7):d>TIME_ANIM_LOSE&&(c=TIME_ANIM_IDLE,g=STATE_IDLE,d=0);d+=s_iTimeElaps};this.startUpdate=function(){b=!0};this.stopUpdate=function(){b=!1};this.update=function(){if(b){z.update();switch(g){case STATE_IDLE:this._animLedIdle();break;case STATE_SPIN:this._animLedSpin();break;case STATE_WIN:this._animLedWin();break;case STATE_LOSE:this._animLedLose()}B.update()}};s_oGame=this;START_CREDIT=a.start_credit;
START_BET=a.start_bet;MAX_MULTIPLIER=a.max_multiplier;AD_SHOW_COUNTER=a.ad_show_counter;BANK_CASH=a.bank_cash;this._init()}var s_oGame;
function CFormatText(a,b,c,d){var f,g,h,e;this._init=function(a,c,b,d){f=0;e=new createjs.Container;e.x=a;e.y=c;d.addChild(e);a=85;c=a/20;for(d=0;d<b.length;d++){var k=a+"px";g=new createjs.Text;g.text=b[d];g.font="bold "+k+" "+PRIMARY_FONT;g.color="#000000";g.textAlign="left";g.textBaseline="middle";g.x=f+2;g.y=2;e.addChild(g);h=new createjs.Text;h.text=b[d];h.font="bold "+k+" "+PRIMARY_FONT;h.color="#ffffff";h.textAlign="left";h.textBaseline="middle";h.x=f;e.addChild(h);f+=h.getMeasuredWidth()+
c;a-=9}e.cache(0,-e.getBounds().height/2,e.getBounds().width,e.getBounds().height)};this.unload=function(){d.removeChild(e)};this.rotateText=function(a){e.rotation=a};this._init(a,b,c,d)}
function CInterface(){var a,b,c,d,f,g,h=null,e=null,n,m,l,p,k,q,t,r,w,y,B,z;this._init=function(){B=this;t=0;var A,v=s_oSpriteLibrary.getSprite("but_exit");c=CANVAS_WIDTH-v.width/2-10;d=v.height/2+14;l=new CGfxButton(c,d,v,s_oStage);l.addEventListener(ON_MOUSE_UP,this._onExit,this);a=A=CANVAS_WIDTH-v.width/2-112;b=v.height/2+14;if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)v=s_oSpriteLibrary.getSprite("audio_icon"),m=new CToggle(a,b,v,s_bAudioActive),m.addEventListener(ON_MOUSE_UP,this._onAudioToggle,
this);var u=window.document,x=u.documentElement;h=x.requestFullscreen||x.mozRequestFullScreen||x.webkitRequestFullScreen||x.msRequestFullscreen;e=u.exitFullscreen||u.mozCancelFullScreen||u.webkitExitFullscreen||u.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(h=!1);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)A=a-v.width/2-10;h&&screenfull.enabled&&(v=s_oSpriteLibrary.getSprite("but_fullscreen"),f=A,g=v.height/2+14,n=new CToggle(f,g,v,s_bFullscreen,!0),n.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,
this));A=new createjs.Container;A.x=CANVAS_WIDTH/2+210;A.y=76;A.scaleX=A.scaleY=.9;s_oStage.addChild(A);v=s_oSpriteLibrary.getSprite("gui_panel");u=createBitmap(v);u.regX=v.width/2;u.regY=v.height/2;u.y=760;A.addChild(u);v=s_oSpriteLibrary.getSprite("logo_game");u=createBitmap(v);u.regX=v.width/2;u.regY=v.height/2;u.y=376;A.addChild(u);u=new createjs.Container;u.y=CANVAS_HEIGHT-330;A.addChild(u);v=s_oSpriteLibrary.getSprite("bet_panel");x=createBitmap(v);x.regX=v.width/2;x.regY=v.height/2;x.y=-100;
u.addChild(x);y=new createjs.Text(TEXT_CURRENCY+START_BET.toFixed(2)," 26px "+THIRD_FONT,"#ffffff");y.x=x.x;y.y=x.y-2;y.textAlign="center";y.textBaseline="middle";y.lineWidth=400;u.addChild(y);v=s_oSpriteLibrary.getSprite("but_spin");p=new CTextButton(0,0,v,TEXT_SPIN,THIRD_FONT,"#ffffff",60,!1,u);p.enable();p.addEventListener(ON_MOUSE_UP,this._onButSpinRelease,this);v=s_oSpriteLibrary.getSprite("but_plus");k=new CTextButton(98,-100,v,TEXT_PLUS,THIRD_FONT,"#ffffff",60,!1,u);k.enable();k.addEventListener(ON_MOUSE_UP,
this._onButPlusRelease,this);v=s_oSpriteLibrary.getSprite("but_plus");q=new CTextButton(-98,-100,v,TEXT_MIN,THIRD_FONT,"#ffffff",60,!1,u);q.enable();q.addEventListener(ON_MOUSE_UP,this._onButMinRelease,this);q.setTextPosition(-2,10);v=s_oSpriteLibrary.getSprite("credits_money_panel");u=createBitmap(v);u.regX=v.width/2;u.regY=v.height/2;u.y=600;A.addChild(u);v=28;x=new createjs.Text(TEXT_CREDITS," 30px "+THIRD_FONT,"#000000");x.x=u.x+2;x.y=u.y+2-v;x.textAlign="center";x.textBaseline="middle";x.lineWidth=
400;A.addChild(x);x=new createjs.Text(TEXT_CREDITS," 30px "+THIRD_FONT,"#fff000");x.x=u.x;x.y=u.y-v;x.textAlign="center";x.textBaseline="middle";x.lineWidth=400;A.addChild(x);r=new createjs.Text(TEXT_CURRENCY+START_CREDIT.toFixed(2)," 28px "+THIRD_FONT,"#ffffff");r.x=u.x;r.y=u.y+20;r.textAlign="center";r.textBaseline="middle";r.lineWidth=400;A.addChild(r);v=s_oSpriteLibrary.getSprite("win_panel");u=createBitmap(v);u.regX=v.width/2;u.regY=v.height/2;u.y=740;A.addChild(u);v=24;x=new createjs.Text(TEXT_WIN,
" 30px "+THIRD_FONT,"#000000");x.x=u.x+2;x.y=u.y+2-v;x.textAlign="center";x.textBaseline="middle";x.lineWidth=400;A.addChild(x);x=new createjs.Text(TEXT_WIN," 30px "+THIRD_FONT,"#fff000");x.x=u.x;x.y=u.y-v;x.textAlign="center";x.textBaseline="middle";x.lineWidth=400;A.addChild(x);w=new createjs.Text(TEXT_CURRENCY+"0.00"," 28px "+THIRD_FONT,"#ffffff");w.x=u.x;w.y=u.y+24;w.textAlign="center";w.textBaseline="middle";w.lineWidth=400;A.addChild(w);z=new createjs.Text(TEXT_CURRENCY+"0.00"," 28px "+THIRD_FONT,
"yellow");z.x=w.x;z.y=w.y;z.textAlign=w.textAlign;z.textBaseline=w.textBaseline;z.lineWidth=w.lineWidth;z.alpha=t;A.addChild(z);this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.unload=function(){if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)m.unload(),m=null;l.unload();p.unload();h&&screenfull.enabled&&n.unload();s_oInterface=null};this.refreshCredit=function(a){r.text=TEXT_CURRENCY+a.toFixed(2)};this.clearMoneyPanel=function(){z.alpha=0;createjs.Tween.removeTweens(z)};this.refreshMoney=function(a){a=
a.toFixed(2);w.text=TEXT_CURRENCY+a;z.text=TEXT_CURRENCY+a};this.refreshBet=function(a){y.text=TEXT_CURRENCY+a.toFixed(2)};this.refreshNumSpin=function(a){};this.animWin=function(){t=1===t?0:1;createjs.Tween.get(z).to({alpha:t},150,createjs.Ease.cubicOut).call(function(){B.animWin()})};this._onButSpinRelease=function(){s_oGame.spinWheel()};this._onButPlusRelease=function(){s_oGame.modifyBonus("plus")};this._onButMinRelease=function(){s_oGame.modifyBonus("min")};this.disableSpin=function(a){!0===a?
(p.disable(),k.disable(),q.disable()):(p.enable(),k.enable(),q.enable())};this.enterInFreeSpinMode=function(a){q.fadeOut();k.fadeOut();createjs.Tween.get(y).to({alpha:0},500).call(function(){y.text="x"+a;y.color="#fff000";createjs.Tween.get(y).to({alpha:1},500)})};this.exitFromFreeSpinMode=function(a){q.fadeIn();k.fadeIn();createjs.Tween.get(y).to({alpha:0},500).call(function(){y.text=TEXT_CURRENCY+a.toFixed(2);y.color="#FFFFFF";createjs.Tween.get(y).to({alpha:1},500)})};this.refreshButtonPos=function(e,
k){l.setPosition(c-e,k+d);!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||m.setPosition(a-e,k+b);h&&screenfull.enabled&&n.setPosition(f-e,g+k)};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this.resetFullscreenBut=function(){h&&screenfull.enabled&&n.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?e.call(window.document):h.call(window.document.documentElement);sizeHandler()};this._onExit=function(){new CAreYouSurePanel};s_oInterface=
this;this._init();return this}var s_oInterface=null;
function CHelpPanel(){var a,b,c,d,f,g,h,e;this._init=function(){var n=this;f=new createjs.Shape;f.graphics.beginFill("rgba(0,0,0,1)").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);createjs.Tween.get(f).to({alpha:.7},500);var l=s_oSpriteLibrary.getSprite("msg_box");g=createBitmap(l);g.x=CANVAS_WIDTH/2;g.y=CANVAS_HEIGHT/2;g.regX=l.width/2;g.regY=l.height/2;var p=CANVAS_WIDTH/2;l=CANVAS_HEIGHT/2;b=new createjs.Text(TEXT_HELP1,"bold 20px "+THIRD_FONT,"#000000");b.x=p+3;b.y=l+3;b.textAlign="center";b.textBaseline=
"middle";b.lineWidth=500;a=new createjs.Text(TEXT_HELP1,"bold 20px "+THIRD_FONT,"#ffffff");a.x=p;a.y=l;a.textAlign="center";a.textBaseline="middle";a.lineWidth=b.lineWidth;p=new createjs.Container;p.x=CANVAS_WIDTH/2;p.y=680;l=s_oSpriteLibrary.getSprite("bet_panel");var k=createBitmap(l);k.regX=l.width/2;k.regY=l.height/2;k.y=-100;p.addChild(k);l=new createjs.Text(TEXT_CURRENCY+START_BET.toFixed(2)," 26px "+THIRD_FONT,"#ffffff");l.x=k.x;l.y=k.y-2;l.textAlign="center";l.textBaseline="middle";l.lineWidth=
400;p.addChild(l);l=s_oSpriteLibrary.getSprite("but_plus");l=new CTextButton(98,-100,l,TEXT_PLUS,THIRD_FONT,"#ffffff",60,!1,p);l.enable();l.setClickable(!1);l=s_oSpriteLibrary.getSprite("but_plus");l=new CTextButton(-98,-100,l,TEXT_MIN,THIRD_FONT,"#ffffff",60,!1,p);l.enable();l.setTextPosition(-2,10);l.setClickable(!1);l=CANVAS_WIDTH/2;k=CANVAS_HEIGHT/2+100;d=new createjs.Text(TEXT_HELP3,"bold 20px "+THIRD_FONT,"#000000");d.x=l+3;d.y=k+3;d.textAlign="center";d.textBaseline="middle";d.lineWidth=180;
c=new createjs.Text(TEXT_HELP3,"bold 20px "+THIRD_FONT,"#ffffff");c.x=l;c.y=k;c.textAlign="center";c.textBaseline="middle";c.lineWidth=d.lineWidth;k=new createjs.Container;k.x=CANVAS_WIDTH/2-170;k.y=760;k.scaleX=k.scaleY=.5;l=s_oSpriteLibrary.getSprite("but_spin");l=new CTextButton(0,0,l,TEXT_SPIN,THIRD_FONT,"#ffffff",60,!1,k);l.enable();l.setClickable(!1);l=s_oSpriteLibrary.getSprite("swipe_hand");var q=createBitmap(l);q.x=CANVAS_WIDTH/2+170;q.y=745;q.regX=l.width/2;q.regY=l.height/2;createjs.Tween.get(q,
{loop:!0}).to({y:775},1E3,createjs.Ease.cubicOut);h=new createjs.Container;h.addChild(f,g,b,a,d,c,p,k,q);s_oStage.addChild(h);e=h.on("pressup",function(){n._onExitHelp()})};this.unload=function(){s_oStage.removeChild(h);h.off("pressup",e)};this._onExitHelp=function(){n.unload()};var n=this;this._init()}
function CEndPanel(a){var b,c,d,f,g,h;this._init=function(a){g=new createjs.Shape;g.alpha=0;g.graphics.beginFill("rgba(0,0,0,1)").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);createjs.Tween.get(g).to({alpha:.7},500);b=createBitmap(a);b.regX=a.width/2;b.regY=a.height/2;b.x=CANVAS_WIDTH/2;b.y=CANVAS_HEIGHT/2;d=new createjs.Text(""," 40px "+THIRD_FONT,"#000");d.x=CANVAS_WIDTH/2+3;d.y=CANVAS_HEIGHT/2+3;d.textAlign="center";d.textBaseline="middle";d.lineWidth=500;f=new createjs.Text(""," 40px "+THIRD_FONT,
"#ffffff");f.x=CANVAS_WIDTH/2;f.y=CANVAS_HEIGHT/2;f.textAlign="center";f.textBaseline="middle";f.lineWidth=500;c=new createjs.Container;c.alpha=0;c.visible=!1;c.addChild(g,b,d,f);s_oStage.addChild(c)};this.unload=function(){c.off("mousedown",h)};this._initListener=function(){h=c.on("mousedown",this._onExit)};this.show=function(){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||createjs.Sound.play("game_over");$(s_oMain).trigger("show_interlevel_ad");d.text=TEXT_GAMEOVER;f.text=TEXT_GAMEOVER;c.visible=!0;
var a=this;createjs.Tween.get(c).to({alpha:1},500).call(function(){a._initListener()})};this._onExit=function(){c.off("mousedown",h);s_oStage.removeChild(c);$(s_oMain).trigger("end_session");s_oGame.onExit()};this._init(a);return this}
function CWheel(){var a,b,c,d,f,g,h,e,n,m,l,p,k,q,t;this._init=function(c,d){a=!1;b=WHEEL_IDLE;g=0;t={cur:g};PRECISION=s_bMobile?3:1;q=new createjs.Container;q.visible=!1;var f=s_oSpriteLibrary.getSprite("wheel_back"),e=createBitmap(f);e.y=16;e.regX=f.width/2;e.regY=f.height/2;q.addChild(e);f=0;k=[];e=[];for(var h=0;h<MONEY_WHEEL_SETTINGS.length;h++)e.push({sprite:MONEY_WHEEL_SETTINGS[h].background,prize:MONEY_WHEEL_SETTINGS[h].prize,type:MONEY_WHEEL_SETTINGS[h].type,size:80,color:MONEY_WHEEL_SETTINGS[h].textcolor,
stroke:10,strokecolor:MONEY_WHEEL_SETTINGS[h].textstrokecolor});var r=[];for(h=0;h<MAX_MULTIPLIER;h++){r[h]=[];for(var l=0;l<e.length;l++){var n="prize"===e[l].type?(e[l].prize*(h+1)).toFixed(2)/1:e[l].prize.toFixed(2)/1;r[h][l]={sprite:e[l].sprite,prize:n,type:e[l].type,size:e[l].size,color:e[l].color,stroke:e[l].stroke,strokecolor:e[l].strokecolor}}l=new CReel(0,0,r[h],NUM_SEGMENT_TO_RENDER/PRECISION-PRECISION,q,f);k[f]={element:l,loaded:!1};f++}f=s_oSpriteLibrary.getSprite("wheel_shadow");e=createBitmap(f);
e.regX=f.width/2;e.regY=f.height/2;q.addChild(e);f=s_oSpriteLibrary.getSprite("arrow");e=createBitmap(f);e.x=-70;e.regX=f.width;e.regY=f.height/2;q.addChild(e)};this.unload=function(){for(var a=0;a<k.length;a++)k[a].element.setVisible(!1);b=WHEEL_IDLE;g=0;q.off("mousedown",h);q.off("pressmove",e);q.off("pressup",n)};this.attachWheel=function(a,c,b){f=0;q.x=a;q.y=c;q.visible=!0;b.addChild(q);k[f].element.setVisible(!0);k[f].element.render();h=q.on("mousedown",this._onMouseDown);e=q.on("pressmove",
this._onMouseMove);n=q.on("pressup",this._onMouseUp)};this._onMouseDown=function(a){b!==WHEEL_MOVEMENT&&(l=m=a.localY,c=g)};this._onMouseMove=function(a){b!==WHEEL_MOVEMENT&&(p=l-a.localY,g=s_oWheel.getRotation(c+(m-a.localY)/PRECISION),l=a.localY)};this._onMouseUp=function(a){b!==WHEEL_MOVEMENT&&p<-WHEEL_STRENGHT_ACTIVATION&&s_oGame.spinWheel()};this.elementLoaded=function(c){k[c].loaded=!0;for(c=0;c<k.length;c++)if(!k[c].loaded)return;a=!0;s_oLoadingPanel&&(s_oLoadingPanel.unload(),s_oMain.gotoGame())};
this.isLoaded=function(){return a};this.loading=function(){for(var a=0;a<k.length;a++)k[a].element.loading()};this.setText=function(a){k[f].element.setVisible(!1);f=a-1;k[f].element.clear();k[f].element.update(g);k[f].element.render();k[f].element.setVisible(!0)};this.getNumSegmentsOfASingleFrame=function(){return k[f].element.getNumSegmentsOfASingleFrame()};this.getTotalSegments=function(){return k[f].element.getNumSegments()};this.getDegree=function(){return g};this.getRotation=function(a){a=Math.floor(a%
this.getTotalSegments());0>a&&(a=this.getTotalSegments()+a);return a};this.spin=function(a){var e=this.getNumSegmentsOfASingleFrame(),f=this.getTotalSegments();d=-(f*(MIN_FAKE_SPIN+Math.floor(3*Math.random()))+(f-(a*e+(16+Math.random()*(e-32)))));b=WHEEL_MOVEMENT;c=g;a=1E3*WHEEL_SPIN_TIME;t.cur=c;createjs.Tween.get(t).to({cur:d},a,createjs.Ease.cubicOut).call(function(){b=WHEEL_IDLE;s_oGame.releaseWheel()}).addEventListener("change",s_oWheel._onWheelMove)};this._onWheelMove=function(){g=s_oWheel.getRotation(t.cur)};
this.update=function(){for(var a=0;a<k.length;a++)k[a].element.update(g);k[f].element.render()};this._init();s_oWheel=this}var s_oWheel=null;
function CReel(a,b,c,d,f,g){var h,e,n,m,l,p,k,q;this._init=function(a,c,b,d,e,f){h=!1;this._initColors();q=new createjs.Container;this.setVisible(!1);e.addChild(q);this._initReel()};this.unload=function(){s_oStage.removeChild(q)};this._initReel=function(){k=new CCircularList;p=[];for(var a=0;a<c.length;a++)this._addFrame(c[a],a);k.setCircularList();this._setReelParameters()};this._addFrame=function(a,c){var b=s_oSpriteLibrary.getSprite(a.sprite);b=new CComplexFrame(0,0,b,q,a);p.push(b);b=b.getFragments();
for(var d=0;d<b.length;d++)b[d].visible=!1,k.addElement(b[d],c)};this._setReelParameters=function(){e=0;n=d;var a=Math.floor(n/2);m=[];for(var c=0;c<a;c++){var b=Math.sqrt(1-Math.pow(c/a,2));m.push({scalex:b,scaley:2*b,y:c*PRECISION*b});if(b<Math.sqrt(.5))break}a=n-a;l=[];for(c=0;c<a&&!(b=Math.sqrt(1-Math.pow(c/a,2)),l.push({scalex:b,scaley:2*b,y:(-c-1)*PRECISION*b}),b<Math.sqrt(.5));c++);};this.render=function(){this.clear();for(var a=k.getElement(e),c,b=0;b<m.length-PRECISION;b++)c=m[b].y,a.object.visible=
!0,a.object.scaleX=m[b].scalex,a.object.scaleY=m[b].scaley,a.object.y=c,a=a.next;for(b=0;b<PRECISION;b++)a.object.visible=!1,a=a.next;a=k.getElement(e).prev;for(b=0;b<l.length;b++)c=l[b].y,a.object.visible=!0,a.object.scaleX=l[b].scalex,a.object.scaleY=l[b].scaley,a.object.y=c,a=a.prev;a.object.visible=!1};this.clear=function(){for(var a=k.getElement(0),c=0;c<k.getLength();c++)a.object.visible=!1,a=a.next};this.getNumSegmentsOfASingleFrame=function(){return p[0].getFragments().length};this.getNumSegments=
function(){return k.getLength()};this.getFrameIndex=function(a){return k.getElement(a).index};this._initColors=function(){};this.setText=function(a,c){a.setText(TEXT_CURRENCY+c.prize,c.size,c.color,c.stroke,c.strokecolor)};this.setVisible=function(a){q.visible=a};this.updateText=function(a){for(var b=0;b<p.length;b++)p[b].setText(TEXT_CURRENCY+c[b].prize*a,c[b].size,c[b].color,c[b].stroke,c[b].strokecolor)};this.getDegree=function(){return e};this.setDegree=function(a){e=a};this.loading=function(){if(!h){h=
!0;for(var a=0;a<p.length;a++)p[a].loadFragment(),p[a].isLoaded()||(h=!1);h&&s_oWheel.elementLoaded(g)}};this.update=function(a){e=a};this._init(a,b,c,d,f,g)}
function CLeds(a,b,c){var d,f,g,h,e,n,m,l,p,k,q,t,r;this._init=function(a,c,b){h=4;f=Math.floor(Math.random()*h);g=0;m=[];l=[];l=["green","red","blue","violet","yellow"];r=new createjs.Container;r.x=a;r.y=c;b.addChild(r);a={images:[s_oSpriteLibrary.getSprite("leds")],frames:{width:70,height:70,regX:35,regY:35},animations:{off:[0],green:[1],red:[2],blue:[3],violet:[4],yellow:[5],white:[5]}};a=new createjs.SpriteSheet(a);c=[{x:-143,y:319},{x:142,y:319},{x:-143,y:234},{x:142,y:234},{x:-143,y:149},{x:142,
y:149},{x:-143,y:54},{x:142,y:54},{x:-143,y:-46},{x:142,y:-46},{x:-143,y:-150},{x:142,y:-150},{x:-143,y:-260},{x:142,y:-260},{x:-143,y:-360},{x:142,y:-360},{x:-46,y:-360},{x:51,y:-360}];for(b=0;b<c.length;b++)m[b]=createSprite(a,"off",0,0,70,70),m[b].x=c[b].x,m[b].y=c[b].y,r.addChild(m[b]);m[6].visible=!1;m[8].visible=!1;p=[];k=[];for(b=0;b<m.length;b++)0===b%2?p.push(m[b]):k.push(m[b]);q=[];for(b=0;b<m.length;b++)q[b]=b<m.length/2?p[b]:k[Math.abs(m.length-b-1)];t=[];for(b=0;b<m.length;b++)t[b]=q[q.length-
1-b]};this.unload=function(){c.removeChild(r)};this.setWinColor=function(a){};this.getState=function(){return f};this.getNumAnim=function(){return h};this.changeAnim=function(a){g=0;f=a;this.turnOffLights()};this.turnOffLights=function(){for(var a=0;a<m.length;a++)m[a].gotoAndStop("off")};this.animIdle0=function(){0===g&&(d=l[Math.floor(Math.random()*l.length)],e=0);g+=s_iTimeElaps;g>ANIM_IDLE1_TIMESPEED&&(e>p.length-1?(e=0,this.turnOffLights()):(p[e].gotoAndStop(d),k[e].gotoAndStop(d),e++,g=1))};
this.animIdle1=function(){0===g&&(d=l[Math.floor(Math.random()*l.length)],n=e=0);g+=s_iTimeElaps;g>ANIM_IDLE2_TIMESPEED&&(e>q.length-1?(q[n].gotoAndStop("off"),n++,g=1,n>q.length-1&&(g=0)):(q[e].gotoAndStop(d),e++,g=1))};this.animIdle2=function(){0===g&&(d=l[Math.floor(Math.random()*l.length)],n=e=0);g+=s_iTimeElaps;g>ANIM_IDLE2_TIMESPEED&&(e>t.length-1?(t[n].gotoAndStop("off"),n++,g=1,n>t.length-1&&(g=0)):(t[e].gotoAndStop(d),e++,g=1))};this.animIdle3=function(){0===g&&(d=l[Math.floor(Math.random()*
l.length)],e=0);g+=s_iTimeElaps;if(g>ANIM_IDLE3_TIMESPEED){if(0===e%2)for(var a=0;a<p.length;a++)0===a%2?(p[a].gotoAndStop(d),k[a].gotoAndStop("off")):(p[a].gotoAndStop("off"),k[a].gotoAndStop(d));else for(a=0;a<p.length;a++)0===a%2?(p[a].gotoAndStop("off"),k[a].gotoAndStop(d)):(p[a].gotoAndStop(d),k[a].gotoAndStop("off"));e++;g=1}};this.animSpin0=function(){0===g&&(e=Math.floor(Math.random()*p.length),d=l[Math.floor(Math.random()*l.length)]);g+=s_iTimeElaps;g>ANIM_SPIN_TIMESPEED&&(0>e&&(e=p.length-
1,g=1),e===p.length-1?(p[0].gotoAndStop("off"),p[p.length-1].gotoAndStop(d),k[0].gotoAndStop("off"),k[p.length-1].gotoAndStop(d)):(p[e+1].gotoAndStop("off"),p[e].gotoAndStop(d),k[e+1].gotoAndStop("off"),k[e].gotoAndStop(d)),e--,g=1)};this.animWin0=function(){g+=s_iTimeElaps;if(g>ANIM_WIN1_TIMESPEED){for(var a=0;a<m.length;a++)d=l[Math.floor(Math.random()*l.length)],m[a].gotoAndStop(d);g=1}};this.animWin1=function(){g+=s_iTimeElaps;d=l[Math.floor(Math.random()*l.length)];if(g>ANIM_WIN2_TIMESPEED){for(var a=
0;a<m.length;a++)m[a].gotoAndStop(d);g=1}};this.animLose=function(){d=l[Math.floor(Math.random()*l.length)];for(var a=0;a<m.length;a++)m[a].gotoAndStop(d);f=-1};this.update=function(){switch(f){case 0:this.animIdle0();break;case 1:this.animIdle1();break;case 2:this.animIdle2();break;case 3:this.animIdle3();break;case 4:this.animSpin0();break;case 5:this.animWin0();break;case 6:this.animWin1();break;case 7:this.animLose()}};this._init(a,b,c)}
function CCircularList(){var a;this._init=function(){a=[]};this.addElement=function(b,c){a.push({object:b,index:c,next:null,prev:null})};this.getElement=function(b){return a[b]};this.getLength=function(){return a.length};this.setCircularList=function(){for(var b=0;b<a.length;b++)switch(b){case 0:a[0].next=a[1];a[0].prev=a[a.length-1];break;case a.length-1:a[a.length-1].next=a[0];a[a.length-1].prev=a[a.length-2];break;default:a[b].next=a[b+1],a[b].prev=a[b-1]}};this._set1Element=function(){a[0]={object:a[0].object,
next:a[0],prev:a[0]}};this._setNElements=function(){for(var b=0;b<a.length;b++)switch(b){case 0:a[0]={object:a[0].object,next:a[1],prev:a[a.length-1]};break;case a.length-1:a[a.length-1]={object:a[a.length-1].object,next:a[0],prev:a[a.length-2]};break;default:a[b]={object:a[b].object,prev:a[b-1]},a[b-b]={object:a[b-1].object,next:a[b],prev:a[b-2]}}};this._init()}
function CComplexFrame(a,b,c,d,f){var g,h,e,n,m,l,p,k,q,t,r,w;this._init=function(a,c,b,d,f){l=!1;k=0;q=5;g=0;h=b.height-LABEL_HEIGHT;e=b.width;n=LABEL_HEIGHT;m=b.height-LABEL_HEIGHT/2;w=[];for(d=p=0;d<b.height;d+=PRECISION)w[p]=new createjs.Container,w[p].x=a,w[p].y=c,w[p].regX=b.width/2,w[p].regY=p*PRECISION,w[p].visible=!1,p++};this.getFragments=function(){return w};this.setText=function(a,b,d,e,f,g){t=new createjs.Text(b," "+d+"px "+SECONDARY_FONT,g);t.x=c.width/2;t.y=c.height/2+3;t.textAlign=
"center";t.textBaseline="middle";t.outline=f;r=new createjs.Text(b," "+d+"px "+SECONDARY_FONT,e);r.x=c.width/2;r.y=c.height/2;r.textAlign="center";r.textBaseline="middle";for(b=d;t.getBounds().width>WHEEL_TEXT_PIXEL_MAX_SIZE;)b--,t.font=" "+b+"px "+SECONDARY_FONT,r.font=" "+b+"px "+SECONDARY_FONT;a.addChild(t,r)};this.setLabel=function(a,b,d,f){var k=new createjs.Shape;k.graphics.beginFill("rgba(0,0,0,0.7)").drawRect(g,h,e,n);r=new createjs.Text(b," "+d+"px "+SECONDARY_FONT,f);r.x=c.width/2;r.y=m;
r.textAlign="center";r.textBaseline="middle";for(b=d;r.getBounds().width>WHEEL_TEXT_PIXEL_MAX_SIZE;)b--,r.font=" "+b+"px "+SECONDARY_FONT;a.addChild(k,r)};this.isLoaded=function(){return l};this.loadFragment=function(){if(k===p)l=!0;else for(var a=0;a<q;a++){var b=createBitmap(c);w[k].addChild(b);d.addChild(w[k]);null!==f.prize&&void 0!==f.prize&&("prize"===f.type?this.setText(w[k],TEXT_CURRENCY+f.prize,f.size,f.color,f.stroke,f.strokecolor):this.setText(w[k],TEXT_FREESPIN+"\n x"+f.prize,f.size,f.color,
f.stroke,f.strokecolor));null!==f.label&&void 0!==f.label&&""!==f.label&&this.setLabel(w[k],f.label,30,"#FFFFFF");b=createBitmap(s_oSpriteLibrary.getSprite("borderframe"));w[k].addChild(b);w[k].cache(0,k*PRECISION,c.width,PRECISION);k++;if(k===p){l=!0;break}}};this._init(a,b,c,d,f)}
function CLoadingPanel(){var a,b,c,d,f,g;this._init=function(){a=!0;b=0;d=new createjs.Container;var h=(new createjs.Graphics).beginFill("rgba(0,0,0,0.3)").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);f=new createjs.Shape(h);g=f.on("click",function(){});var e=s_oSpriteLibrary.getSprite("logo_game");h=createBitmap(e);h.regX=e.width/2;h.regY=e.height/2;h.x=.5*CANVAS_WIDTH;h.y=500;e=s_oSpriteLibrary.getSprite("leds");e=new createjs.SpriteSheet({images:[e],frames:{width:70,height:70,regX:35,regY:35},animations:{off:[0],
green:[1],red:[2],blue:[3],violet:[4],yellow:[5],white:[5]}});c=[];for(var n=0;3>n;n++)c[n]=createSprite(e,"violet",0,0,70,70),c[n].x=.5*CANVAS_WIDTH-72+70*n,c[n].y=.5*CANVAS_HEIGHT+50;d.addChild(f,h,c[0],c[1],c[2]);s_oStage.addChild(d)};this.unload=function(){a=!1;f.off("click",g);s_oStage.removeChild(d);s_oLoadingPanel=null};this.update=function(){a&&(b+=s_iTimeElaps,0<=b&&b<TIME_LOOP_WAIT/4?(c[0].visible=!1,c[1].visible=!1,c[2].visible=!1):b>=TIME_LOOP_WAIT/4&&b<2*TIME_LOOP_WAIT/4?c[0].visible=
!0:b>=2*TIME_LOOP_WAIT/4&&b<3*TIME_LOOP_WAIT/4?c[1].visible=!0:b>=3*TIME_LOOP_WAIT/4&&b<TIME_LOOP_WAIT?c[2].visible=!0:b=0)};this._init();s_oLoadingPanel=this}s_oLoadingPanel=null;
function CCreditsPanel(){var a,b,c,d,f,g,h;this._init=function(){b=new createjs.Shape;b.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);b.alpha=0;s_oStage.addChild(b);g=new createjs.Shape;g.graphics.beginFill("#0f0f0f").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);g.alpha=.01;h=g.on("click",this._onLogoButRelease);s_oStage.addChild(g);(new createjs.Tween.get(b)).to({alpha:.7},500);c=new createjs.Container;s_oStage.addChild(c);var e=s_oSpriteLibrary.getSprite("credits_panel"),n=createBitmap(e);
n.regX=e.width/2;n.regY=e.height/2;c.addChild(n);c.x=CANVAS_WIDTH/2;c.y=CANVAS_HEIGHT+e.height/2;a=c.y;(new createjs.Tween.get(c)).to({y:CANVAS_HEIGHT/2-40},500,createjs.Ease.quartIn);n=new createjs.Text("DEVELOPED BY"," 30px "+THIRD_FONT,"#000000");n.y=-e.height/2+112;n.textAlign="center";n.textBaseline="middle";n.lineWidth=300;n.outline=5;c.addChild(n);e=new createjs.Text("DEVELOPED BY"," 30px "+THIRD_FONT,"#fff000");e.y=n.y;e.textAlign="center";e.textBaseline="middle";e.lineWidth=300;c.addChild(e);
e=new createjs.Text("www.codethislab.com"," 30px "+THIRD_FONT,"#000000");e.y=70;e.textAlign="center";e.textBaseline="middle";e.lineWidth=300;e.outline=5;c.addChild(e);n=new createjs.Text("www.codethislab.com"," 30px "+THIRD_FONT,"#fff000");n.y=e.y;n.textAlign="center";n.textBaseline="middle";n.lineWidth=300;c.addChild(n);e=s_oSpriteLibrary.getSprite("ctl_logo");f=createBitmap(e);f.regX=e.width/2;f.regY=e.height/2;c.addChild(f);e=s_oSpriteLibrary.getSprite("but_exit");d=new CGfxButton(212,-126,e,c);
d.addEventListener(ON_MOUSE_UP,this.unload,this)};this.unload=function(){d.setClickable(!1);(new createjs.Tween.get(b)).to({alpha:0},500);(new createjs.Tween.get(c)).to({y:a},400,createjs.Ease.backIn).call(function(){s_oStage.removeChild(b);s_oStage.removeChild(c);d.unload()});g.off("click",h)};this._onLogoButRelease=function(){window.open("http://www.codethislab.com/index.php?&l=en")};this._onMoreGamesReleased=function(){window.open("http://codecanyon.net/collections/5409142-games")};this._init()}
function CAreYouSurePanel(){var a,b,c,d,f,g;this._init=function(){s_oGame.stopUpdate();d=new createjs.Shape;d.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);d.alpha=0;g=d.on("mousedown",function(){});s_oStage.addChild(d);(new createjs.Tween.get(d)).to({alpha:.7},500);f=new createjs.Container;s_oStage.addChild(f);var e=s_oSpriteLibrary.getSprite("msg_box"),h=createBitmap(e);h.regX=e.width/2;h.regY=e.height/2;f.addChild(h);f.x=CANVAS_WIDTH/2;f.y=CANVAS_HEIGHT+e.height/2;a=f.y;
(new createjs.Tween.get(f)).to({y:CANVAS_HEIGHT/2-40},500,createjs.Ease.quartIn);h=new createjs.Text(TEXT_ARE_SURE," 34px "+THIRD_FONT,"#000000");h.y=-e.height/2+180;h.textAlign="center";h.textBaseline="middle";h.lineWidth=400;f.addChild(h);e=new createjs.Text(TEXT_ARE_SURE," 34px "+THIRD_FONT,"#ffffff");e.x=h.x-4;e.y=h.y-4;e.textAlign="center";e.textBaseline="middle";e.lineWidth=400;f.addChild(e);b=new CGfxButton(110,80,s_oSpriteLibrary.getSprite("but_yes"),f);b.addEventListener(ON_MOUSE_UP,this._onButYes,
this);c=new CGfxButton(-110,80,s_oSpriteLibrary.getSprite("but_no"),f);c.addEventListener(ON_MOUSE_UP,this._onButNo,this);c.pulseAnimation()};this._onButYes=function(){c.setClickable(!1);b.setClickable(!1);(new createjs.Tween.get(d)).to({alpha:0},500);(new createjs.Tween.get(f)).to({y:a},400,createjs.Ease.backIn).call(function(){h.unload();s_oGame.onExit()})};this._onButNo=function(){s_oGame.startUpdate();c.setClickable(!1);b.setClickable(!1);(new createjs.Tween.get(d)).to({alpha:0},500);(new createjs.Tween.get(f)).to({y:a},
400,createjs.Ease.backIn).call(function(){h.unload()})};this.unload=function(){c.unload();b.unload();s_oStage.removeChild(d);s_oStage.removeChild(f);d.off("mousedown",g)};var h=this;this._init()};